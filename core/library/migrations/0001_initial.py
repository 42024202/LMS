# Generated by Django 5.2.5 on 2025-08-23 17:05

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('course', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='Book',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(help_text='Полное название учебного пособия', max_length=255, verbose_name='Название учебника')),
                ('author', models.CharField(help_text='Автор или редактор учебника', max_length=255, verbose_name='Автор')),
                ('subject', models.CharField(help_text='Учебная дисциплина, к которой относится учебник', max_length=100, verbose_name='Предмет/Дисциплина')),
                ('education_level', models.CharField(choices=[('school', 'Школьный'), ('college', 'Колледж'), ('bachelor', 'Бакалавриат'), ('master', 'Магистратура')], default='bachelor', help_text='Для какого уровня обучения предназначен учебник', max_length=50, verbose_name='Уровень образования')),
                ('isbn', models.CharField(blank=True, help_text='Международный стандартный номер книги', max_length=20, null=True, verbose_name='ISBN')),
                ('file', models.FileField(blank=True, help_text='Электронная версия учебника', null=True, upload_to='books/', verbose_name='Файл учебника')),
                ('external_link', models.URLField(blank=True, help_text='Ссылка на онлайн-ресурс или магазин', null=True, verbose_name='Внешняя ссылка')),
                ('is_required', models.BooleanField(default=True, help_text='Обязателен ли учебник для изучения', verbose_name='Обязательная литература')),
            ],
            options={
                'verbose_name': 'Учебник',
                'verbose_name_plural': 'Учебники',
                'ordering': ['subject', 'title'],
            },
        ),
        migrations.CreateModel(
            name='CourseBook',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('reading_order', models.PositiveIntegerField(default=0, help_text='Порядковый номер для последовательности изучения', verbose_name='Порядок изучения')),
                ('recommended_chapters', models.CharField(blank=True, help_text='Главы или разделы, обязательные для изучения', max_length=500, null=True, verbose_name='Рекомендуемые разделы')),
                ('study_hours', models.PositiveIntegerField(default=0, help_text='Рекомендуемое количество часов для изучения', verbose_name='Часы на изучение')),
                ('book', models.ForeignKey(help_text='Учебник, связанный с курсом', on_delete=django.db.models.deletion.CASCADE, related_name='course_books', to='library.book', verbose_name='Учебник')),
                ('course', models.ForeignKey(help_text='Курс, для которого предназначен учебник', on_delete=django.db.models.deletion.CASCADE, related_name='course_books', to='course.course', verbose_name='Курс')),
            ],
            options={
                'verbose_name': 'Учебник курса',
                'verbose_name_plural': 'Учебники курсов',
                'ordering': ['course', 'reading_order'],
                'unique_together': {('course', 'book')},
            },
        ),
    ]
